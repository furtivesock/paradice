{% extends 'base.html.twig' %}
{% block title %}Hello!{% endblock %}
{% block javascripts %}
    <script>
        function goToChapter(idUniverse, idStory, idChapter) {
            document.location = '/universe/' + idUniverse +
                '/story/' + idStory +
                '/chapter/' + idChapter
        }
    </script> 
{% endblock %}
{% block body %}
    <h2>
        {{ story.getName }}</h2>
    <!-- stories -->
    <h4>Les Chapitres</h4>

    {% for chapter in story.getChapters|sort_by(=> _.getNumero, 'DESC') %}
        <div class="chapter-row" onclick="goToChapter({{ story.getUniverse.getId }}, {{ story.getId }}, {{ chapter.getId }})">
            <h5>
                Chapitre
                {{ chapter.getNumero }}
                :
                {{ chapter.getName }}
                ({{ chapter.getEnd ? 'Fini' : 'En cours' }})</h5>
            <p>
                {{ chapter.getLocation.getName }}</p>
        </div>
    {% endfor %}
{% endblock %}